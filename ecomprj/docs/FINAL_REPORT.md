# ОТЧЕТ ПО ПРАКТИКЕ

---

## ТИТУЛЬНЫЙ ЛИСТ

**Тема:** Разработка веб-приложения многовендорной электронной коммерции

**Выполнил:** Данияр

**Направление:** Веб-разработка

**Рабочий сайт:** https://multivendor-shop-iz5t.onrender.com

**GitHub:** https://github.com/Daniyar008/ecom_prj

**Дата:** Декабрь 2025

---

## СОДЕРЖАНИЕ

1. Введение
2. Цели и задачи
3. Описание проекта
4. Архитектура системы
5. Структура базы данных
6. Функциональность
7. Технологический стек
8. Этапы разработки
9. Развертывание
10. Тестирование
11. Заключение
12. Список литературы

---

## 1. ВВЕДЕНИЕ

### Актуальность

Электронная коммерция занимает ключевое место в современной экономике. Многовендорные маркетплейсы (Amazon, Wildberries, Ozon) объединяют тысячи продавцов на одной платформе, предоставляя покупателям широкий выбор товаров.

Разработка собственной e-commerce платформы позволяет освоить:
- Современные технологии веб-разработки
- Проектирование баз данных
- Развертывание приложений в облаке

### Предметная область

**Многовендорный маркетплейс** — онлайн-платформа, объединяющая независимых продавцов и покупателей.

**Участники системы:**
- Покупатели — просматривают и покупают товары
- Продавцы — размещают и продают товары
- Администраторы — управляют платформой

---

## 2. ЦЕЛИ И ЗАДАЧИ

### Цель проекта

Разработка полнофункциональной многовендорной платформы электронной коммерции с современной архитектурой.

### Задачи

1. **Проектирование БД:** ER-диаграмма, сущности, связи
2. **Backend разработка:** Django приложения, модели, views
3. **Frontend разработка:** HTML/CSS верстка, JavaScript
4. **Интеграция:** Redis кэширование, Celery задачи
5. **Развертывание:** Render.com, Supabase PostgreSQL
6. **Документирование:** Техническая документация

---

## 3. ОПИСАНИЕ ПРОЕКТА

### Общие сведения

| Параметр | Значение |
|----------|----------|
| Название | Multivendor E-commerce Platform |
| Тип | Веб-приложение |
| Framework | Django 4.2.7 |
| База данных | PostgreSQL (Supabase) |
| Хостинг | Render.com |

### Функции для покупателей

| Функция | Описание |
|---------|----------|
| Регистрация/Вход | Email или username |
| Каталог | Список товаров с пагинацией |
| Поиск | AJAX поиск по названию |
| Фильтрация | По категории, цене, рейтингу |
| Корзина | Добавление, изменение, удаление |
| Избранное | Сохранение товаров |
| Заказы | Оформление и история |
| Отзывы | Рейтинг 1-5 звезд |

### Функции для продавцов

| Функция | Описание |
|---------|----------|
| Dashboard | Статистика продаж |
| Товары | Создание, редактирование, удаление |
| Заказы | Просмотр и обновление статусов |
| Аналитика | Графики продаж |

### Функции для администраторов

| Функция | Описание |
|---------|----------|
| Пользователи | CRUD операции |
| Категории | Управление каталогом |
| Модерация | Проверка товаров и отзывов |
| Промокоды | Создание скидок |

---

## 4. АРХИТЕКТУРА СИСТЕМЫ

### Архитектурная диаграмма

```
┌─────────────────────────────────────────────────┐
│                   CLIENT                         │
│         Browser (Chrome, Firefox, Safari)        │
└────────────────────┬────────────────────────────┘
                     │ HTTPS
                     ▼
┌─────────────────────────────────────────────────┐
│               PRESENTATION                       │
│      Django Templates + HTML/CSS + jQuery        │
└────────────────────┬────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────┐
│                APPLICATION                       │
│          Django 4.2 + Gunicorn WSGI             │
│  ┌─────────┬─────────┬─────────┬─────────┐     │
│  │  core   │userauths│ vendors │cartorder│     │
│  └─────────┴─────────┴─────────┴─────────┘     │
│  ┌─────────┬─────────┬─────────┐               │
│  │wishlist │  goods  │useradmin│               │
│  └─────────┴─────────┴─────────┘               │
└────────────────────┬────────────────────────────┘
                     │
          ┌──────────┴──────────┐
          ▼                     ▼
┌──────────────────┐   ┌──────────────────┐
│   PostgreSQL     │   │      Redis       │
│   (Supabase)     │   │   (Cache/Session)│
└──────────────────┘   └──────────────────┘
```

### Паттерн MTV (Model-Template-View)

| Компонент | Роль | Файлы |
|-----------|------|-------|
| Model | Структура данных | models.py |
| Template | Представление (HTML) | templates/*.html |
| View | Бизнес-логика | views.py |

### Структура проекта

```
ecomprj/
├── manage.py
├── requirements.txt
├── ecomprj/          # Настройки Django
│   ├── settings.py
│   └── urls.py
├── core/             # Каталог, товары
├── userauths/        # Аутентификация
├── cartorders/       # Корзина, заказы
├── vendors/          # Продавцы
├── wishlists/        # Избранное
├── useradmin/        # Панель продавца
├── static/           # CSS, JS, изображения
└── templates/        # HTML шаблоны
```

---

## 5. СТРУКТУРА БАЗЫ ДАННЫХ

### ER-диаграмма

```
┌──────────┐     1:1      ┌──────────┐
│   User   │─────────────▶│  Profile │
└────┬─────┘              └──────────┘
     │
     │ 1:1
     ▼
┌──────────┐              ┌──────────┐
│  Vendor  │──────┐       │ Category │
└──────────┘      │       └────┬─────┘
                  │            │
                  │ Many:1     │ 1:Many
                  ▼            ▼
              ┌──────────────────┐
              │     Product      │
              └────────┬─────────┘
                       │
         ┌─────────────┼─────────────┐
         │             │             │
         ▼             ▼             ▼
   ┌──────────┐  ┌──────────┐  ┌──────────┐
   │  Review  │  │ Wishlist │  │CartOrder │
   └──────────┘  └──────────┘  │  Item    │
                               └──────────┘
```

### Основные таблицы

| Таблица | Описание | Поля |
|---------|----------|------|
| User | Пользователи | id, username, email, password |
| Profile | Профили | user_id, image, address, bio |
| Vendor | Продавцы | user_id, title, description |
| Category | Категории | id, title, slug, image |
| Product | Товары | id, title, price, vendor_id, category_id |
| Review | Отзывы | id, user_id, product_id, rating, text |
| CartOrder | Заказы | id, user_id, price, status, address |
| CartOrderItem | Позиции заказа | order_id, product_id, qty, price |
| Wishlist | Избранное | user_id, product_id |

### Типы связей

| Связь | Тип |
|-------|-----|
| User → Profile | 1:1 |
| User → Vendor | 1:1 |
| Vendor → Product | 1:Many |
| Category → Product | 1:Many |
| Product → Review | 1:Many |
| User → CartOrder | 1:Many |
| CartOrder → CartOrderItem | 1:Many |

### Пример SQL-запроса

```sql
-- Топ-10 товаров по продажам
SELECT p.title, SUM(oi.qty) as sold
FROM core_product p
JOIN cartorders_cartorderitem oi ON oi.product_id = p.id
GROUP BY p.id
ORDER BY sold DESC
LIMIT 10;
```

---

## 6. ФУНКЦИОНАЛЬНОСТЬ

### Модуль аутентификации

**Особенности:**
- Вход по email ИЛИ username (custom EmailBackend)
- Автоматическое создание Profile при регистрации (signal)
- Сессии в Redis

**Код EmailBackend:**
```python
class EmailBackend(ModelBackend):
    def authenticate(self, request, username=None, password=None):
        try:
            user = User.objects.get(
                Q(email__iexact=username) | Q(username__iexact=username)
            )
            if user.check_password(password):
                return user
        except User.DoesNotExist:
            return None
```

### Модуль корзины (AJAX)

```javascript
$('.add-to-cart').click(function() {
    $.ajax({
        url: '/cart/add/' + productId + '/',
        type: 'POST',
        headers: {'X-CSRFToken': csrfToken},
        success: function(response) {
            updateCartBadge(response.cart_count);
            showNotification('Товар добавлен');
        }
    });
});
```

### Модуль заказов

**Процесс оформления:**
1. Просмотр корзины
2. Ввод адреса доставки
3. Применение промокода
4. Создание CartOrder + CartOrderItem
5. Очистка корзины
6. Email уведомление

---

## 7. ТЕХНОЛОГИЧЕСКИЙ СТЕК

### Backend

| Технология | Версия | Назначение |
|------------|--------|------------|
| Python | 3.11 | Язык программирования |
| Django | 4.2.7 | Web framework |
| Gunicorn | 21.2 | WSGI Server |
| Celery | 5.3.4 | Async tasks |

### Database & Cache

| Технология | Назначение |
|------------|------------|
| PostgreSQL | Основная БД |
| Supabase | Облачный хостинг БД |
| Redis | Кэширование, сессии |

### Frontend

| Технология | Назначение |
|------------|------------|
| HTML5/CSS3 | Разметка, стили |
| JavaScript | Интерактивность |
| jQuery | AJAX, DOM |

### DevOps

| Технология | Назначение |
|------------|------------|
| Git/GitHub | Контроль версий |
| Render.com | Хостинг |
| WhiteNoise | Статические файлы |

---

## 8. ЭТАПЫ РАЗРАБОТКИ

| Этап | Период | Описание |
|------|--------|----------|
| 1. Планирование | Неделя 1 | Анализ требований, ER-диаграмма |
| 2. Настройка | Неделя 2 | Окружение, Django, Git |
| 3. Модели | Неделя 3-4 | Django apps, миграции |
| 4. Views/Templates | Неделя 5-7 | Бизнес-логика, верстка |
| 5. Функционал | Неделя 8-10 | Корзина, заказы, отзывы |
| 6. Развертывание | Неделя 11-12 | Render.com, Supabase |
| 7. Документация | Неделя 13 | Отчет, презентация |

---

## 9. РАЗВЕРТЫВАНИЕ

### Инфраструктура

```
GitHub Repository
       │ git push (auto-deploy)
       ▼
┌─────────────────────────────┐
│        Render.com           │
│  ┌───────────────────────┐  │
│  │ pip install           │  │
│  │ collectstatic (718)   │  │
│  │ migrate (45 миграций) │  │
│  │ gunicorn start        │  │
│  └───────────────────────┘  │
└──────────────┬──────────────┘
               │
    ┌──────────┴──────────┐
    ▼                     ▼
Supabase              Redis
PostgreSQL          (Optional)
```

### Переменные окружения

| Переменная | Описание |
|------------|----------|
| SECRET_KEY | Django ключ |
| DATABASE_URL | PostgreSQL URL |
| REDIS_URL | Redis URL |
| DEBUG | False |

### URL сайта

**https://multivendor-shop-iz5t.onrender.com**

---

## 10. ТЕСТИРОВАНИЕ

### Функциональные тесты

| Тест | Результат |
|------|-----------|
| Регистрация | ✅ Passed |
| Вход (email) | ✅ Passed |
| Вход (username) | ✅ Passed |
| Каталог товаров | ✅ Passed |
| Поиск (AJAX) | ✅ Passed |
| Добавить в корзину | ✅ Passed |
| Оформить заказ | ✅ Passed |
| Написать отзыв | ✅ Passed |
| Django Admin | ✅ Passed |

### Производительность

| Метрика | Значение |
|---------|----------|
| Время ответа (главная) | ~200ms |
| Время ответа (AJAX) | ~100ms |
| Статические файлы | 718 шт |
| Миграции БД | 45 шт |

---

## 11. ЗАКЛЮЧЕНИЕ

### Достигнутые результаты

✅ **Техническая реализация:**
- 7 Django приложений
- 10+ моделей базы данных
- 45 миграций PostgreSQL
- Custom аутентификация (email + username)
- AJAX функциональность

✅ **Функциональность:**
- Регистрация и аутентификация
- Каталог с поиском и фильтрацией
- Корзина и оформление заказов
- Система отзывов
- Панель продавца

✅ **Развертывание:**
- Рабочий сайт на Render.com
- Облачная БД Supabase
- Автоматический деплой

### Приобретенные навыки

- Python/Django разработка
- Проектирование баз данных
- PostgreSQL, Redis
- HTML/CSS/JavaScript
- Git, GitHub
- Облачный хостинг

### Возможные улучшения

- Интеграция платежных систем
- Email уведомления
- Мобильное приложение
- REST API

---

## 12. СПИСОК ЛИТЕРАТУРЫ

1. Django Documentation — https://docs.djangoproject.com/
2. PostgreSQL Documentation — https://www.postgresql.org/docs/
3. Redis Documentation — https://redis.io/documentation
4. Render.com Docs — https://render.com/docs
5. Supabase Docs — https://supabase.com/docs
6. jQuery API — https://api.jquery.com/
7. Python Docs — https://docs.python.org/3/
8. Git Documentation — https://git-scm.com/doc

---

## ПРИЛОЖЕНИЕ А: Скриншоты интерфейса

### Скриншот 1: Главная страница

![Главная страница](screenshots/01_homepage.png)

*Рис. 1 — Главная страница с каталогом категорий и популярными товарами*

---

### Скриншот 2: Каталог товаров

![Каталог товаров](screenshots/02_catalog.png)

*Рис. 2 — Список товаров с фильтрацией и сортировкой*

---

### Скриншот 3: Страница товара

![Страница товара](screenshots/03_product_detail.png)

*Рис. 3 — Детальная страница товара с галереей и отзывами*

---

### Скриншот 4: Корзина

![Корзина](screenshots/04_cart.png)

*Рис. 4 — Корзина с выбранными товарами*

---

### Скриншот 5: Оформление заказа

![Оформление заказа](screenshots/05_checkout.png)

*Рис. 5 — Форма оформления заказа с адресом доставки*

---

### Скриншот 6: Личный кабинет

![Личный кабинет](screenshots/06_dashboard.png)

*Рис. 6 — Dashboard пользователя с историей заказов*

---

### Скриншот 7: Форма регистрации

![Регистрация](screenshots/07_register.png)

*Рис. 7 — Форма регистрации нового пользователя*

---

### Скриншот 8: Форма входа

![Вход](screenshots/08_login.png)

*Рис. 8 — Форма входа в систему*

---

### Скриншот 9: Панель продавца

![Панель продавца](screenshots/09_vendor_dashboard.png)

*Рис. 9 — Dashboard продавца со статистикой продаж*

---

### Скриншот 10: Django Admin

![Django Admin](screenshots/10_admin.png)

*Рис. 10 — Административная панель Django*

---

## ПРИЛОЖЕНИЕ Б: Структура базы данных

### ER-диаграмма (полная)

![ER-диаграмма](screenshots/11_er_diagram.png)

*Рис. 11 — Entity-Relationship диаграмма базы данных*

---

## ПРИЛОЖЕНИЕ В: Развертывание

### Скриншот Render.com Dashboard

![Render Dashboard](screenshots/12_render_dashboard.png)

*Рис. 12 — Панель управления Render.com с метриками*

---

### Скриншот Supabase Database

![Supabase](screenshots/13_supabase.png)

*Рис. 13 — Supabase PostgreSQL с таблицами проекта*

---

**Автор:** Данияр  
**Дата:** Декабрь 2025  
**Сайт:** https://multivendor-shop-iz5t.onrender.com

---

## ИНСТРУКЦИЯ: Как добавить скриншоты

1. Создайте папку `docs/screenshots/`
2. Сделайте скриншоты страниц сайта
3. Сохраните с именами:
   - `01_homepage.png`
   - `02_catalog.png`
   - `03_product_detail.png`
   - `04_cart.png`
   - `05_checkout.png`
   - `06_dashboard.png`
   - `07_register.png`
   - `08_login.png`
   - `09_vendor_dashboard.png`
   - `10_admin.png`
   - `11_er_diagram.png`
   - `12_render_dashboard.png`
   - `13_supabase.png`

4. При экспорте в Word/PDF изображения автоматически подставятся
