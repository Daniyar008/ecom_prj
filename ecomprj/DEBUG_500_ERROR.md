# –û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–∫–∏ 500 –Ω–∞ Render

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–æ–º–º–∏—Ç–µ:

### 1. ‚úÖ –û—Ç–∫–ª—é—á–∏–ª EAGER_PROPAGATES
```python
# settings.py
CELERY_TASK_EAGER_PROPAGATES = False  # –¢–µ–ø–µ—Ä—å –æ—à–∏–±–∫–∏ Celery –Ω–µ –ª–æ–º–∞—é—Ç —Å–∞–π—Ç
```

### 2. ‚úÖ –î–æ–±–∞–≤–∏–ª exception handling –≤ views
```python
# userauths/views.py
try:
    new_user = form.save()
    # ... —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
except Exception as e:
    logger.error(f"Registration error: {str(e)}", exc_info=True)
    messages.error(request, f"Registration failed: {str(e)}")
```

### 3. ‚úÖ –í–∫–ª—é—á–∏–ª –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```python
# settings.py - LOGGING configuration
# –¢–µ–ø–µ—Ä—å –≤—Å–µ –æ—à–∏–±–∫–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ Render –ª–æ–≥–∏
```

---

## üîç –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –æ—à–∏–±–∫–∏:

### –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å Render Dashboard
1. https://dashboard.render.com/
2. –í–∞—à Web Service: **multivendor-shop-iz5t**
3. –í–∫–ª–∞–¥–∫–∞ **Logs**

### –®–∞–≥ 2: –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –æ—à–∏–±–∫—É
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://multivendor-shop-iz5t.onrender.com/userauth/sign-up/
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
3. –ï—Å–ª–∏ –ø–æ–ª—É—á–∏—Ç–µ 500 –æ—à–∏–±–∫—É - **–ù–ï –ó–ê–ö–†–´–í–ê–ô–¢–ï** —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –®–∞–≥ 3: –ù–∞–π—Ç–∏ –æ—à–∏–±–∫—É –≤ –ª–æ–≥–∞—Ö
–ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ –≤–∏–¥–∞:
```
[ERROR] 2025-12-15 13:XX:XX userauths Registration error: ...
```

–ò–ª–∏:
```
Internal Server Error: /userauth/sign-up/
Traceback (most recent call last):
  File "...", line XXX, in ...
    ...
SomeException: detailed error message here
```

### –®–∞–≥ 4: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ü–û–õ–ù–´–ô —Å—Ç–µ–∫—Ç—Ä–µ–π—Å
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–í–°–ï** —Å—Ç—Ä–æ–∫–∏ –æ—Ç "ERROR" –¥–æ –∫–æ–Ω—Ü–∞ traceback –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—é–¥–∞.

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### 1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
```
https://multivendor-shop-iz5t.onrender.com/
```
‚úÖ –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (200 OK)

### 2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
```
https://multivendor-shop-iz5t.onrender.com/userauth/sign-up/
```
‚úÖ –§–æ—Ä–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è

### 3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
```
https://multivendor-shop-iz5t.onrender.com/userauth/sign-in/
```
‚úÖ –§–æ—Ä–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è

### 4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Celery
```
https://multivendor-shop-iz5t.onrender.com/celery-stats/
```
‚úÖ –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å JSON:
```json
{
  "mode": "EAGER (synchronous)",
  "is_eager": true,
  "celery_connected": true
}
```

### 5. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Redis
```
https://multivendor-shop-iz5t.onrender.com/redis-stats/
```
‚úÖ –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–µ—à–∞

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏ 500:

### 1. –ü—Ä–æ–±–ª–µ–º–∞ —Å –ë–î (Supabase)
**–°–∏–º–ø—Ç–æ–º—ã:**
```
OperationalError: FATAL: remaining connection slots are reserved
```

**–†–µ—à–µ–Ω–∏–µ:**
```python
# settings.py
DATABASES['default']['OPTIONS'] = {
    'connect_timeout': 10,
}
DATABASES['default']['CONN_MAX_AGE'] = 0  # –ó–∞–∫—Ä—ã–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```

### 2. –ü—Ä–æ–±–ª–µ–º–∞ —Å Redis
**–°–∏–º–ø—Ç–æ–º—ã:**
```
ConnectionError: Error connecting to Redis
```

**–†–µ—à–µ–Ω–∏–µ:**
–£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - Redis –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å fallback –Ω–∞ LocMemCache

### 3. –ü—Ä–æ–±–ª–µ–º–∞ —Å Celery –∑–∞–¥–∞—á–∞–º–∏
**–°–∏–º–ø—Ç–æ–º—ã:**
```
Task raised exception: ...
```

**–†–µ—à–µ–Ω–∏–µ:**
–£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - `CELERY_TASK_EAGER_PROPAGATES = False`

### 4. –ü—Ä–æ–±–ª–µ–º–∞ —Å Email
**–°–∏–º–ø—Ç–æ–º—ã:**
```
SMTPException: ...
ConnectionRefusedError: [Errno 111] Connection refused
```

**–†–µ—à–µ–Ω–∏–µ:**
–£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–µ–º console backend

### 5. –ü—Ä–æ–±–ª–µ–º–∞ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
**–°–∏–º–ø—Ç–æ–º—ã:**
```
ProgrammingError: relation "userauths_profile" does not exist
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –í build.sh —É–∂–µ –µ—Å—Ç—å:
python manage.py migrate --noinput
```

---

## üõ†Ô∏è –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (DEBUG=True)

–ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏, –≤—Ä–µ–º–µ–Ω–Ω–æ –≤–∫–ª—é—á–∏—Ç–µ DEBUG:

### –í Render Dashboard:
1. Environment Variables
2. –ò–∑–º–µ–Ω–∏—Ç–µ: `DEBUG=True`
3. Save Changes

‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –Ω–æ **–ù–ï –ë–ï–ó–û–ü–ê–°–ù–û** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—à–∏–±–∫–∏ - —Å—Ä–∞–∑—É –≤–µ—Ä–Ω–∏—Ç–µ `DEBUG=False`

---

## üìû –ß—Ç–æ –º–Ω–µ –ø—Ä–∏—Å–ª–∞—Ç—å –¥–ª—è –ø–æ–º–æ—â–∏:

1. **URL –≥–¥–µ –æ—à–∏–±–∫–∞:** (–Ω–∞–ø—Ä–∏–º–µ—Ä /userauth/sign-up/)
2. **–õ–æ–≥–∏ Render:** –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫—Ç—Ä–µ–π—Å —Å [ERROR] —Å—Ç—Ä–æ–∫–∞–º–∏
3. **–°–∫—Ä–∏–Ω—à–æ—Ç:** –ï—Å–ª–∏ DEBUG=True –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏
4. **–ß—Ç–æ –¥–µ–ª–∞–ª–∏:** "–ù–∞–∂–∞–ª —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é, –≤–≤–µ–ª email..."

---

## ‚úÖ –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è (2-3 –º–∏–Ω—É—Ç—ã):

1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å–Ω–æ–≤–∞
2. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ - —Å–º–æ—Ç—Ä–∏—Ç–µ Render Logs
3. –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - –≤—Å—ë –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ! üéâ

**–î–µ–ø–ª–æ–π –∏–¥–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å. –ß–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!**
